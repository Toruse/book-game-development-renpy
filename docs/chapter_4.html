<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>Глава 4. Знакомимся с Ren’Py, Twine и TyranoBuilder | Game Development with Ren’Py</title><meta name="description" content="Разработка новелл при помощи Ren`Py, TyranoBuilder и Twine">
    <link rel="preload" href="/book-game-development-renpy/assets/style-5e12265d.css" as="style"><link rel="stylesheet" href="/book-game-development-renpy/assets/style-5e12265d.css">
    <link rel="modulepreload" href="/book-game-development-renpy/assets/app-adedbf26.js"><link rel="modulepreload" href="/book-game-development-renpy/assets/framework-5866ffd3.js"><link rel="modulepreload" href="/book-game-development-renpy/assets/chapter_4.html-2a8584c6.js"><link rel="modulepreload" href="/book-game-development-renpy/assets/chapter_4.html-7ff325ef.js"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_1.html-645da8b2.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_2.html-37ca180d.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_3.html-f9fb4639.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_5.html-1404a68e.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_6.html-f27ffe71.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_7.html-6d5994f3.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_8.html-ae1045c5.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/index.html-5078772a.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/sources.html-05473ec3.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_1.html-e4dc558a.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_2.html-d53ec68c.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_3.html-639e9627.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_5.html-87b12716.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_6.html-fe5da56d.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_7.html-47612d5c.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/chapter_8.html-1c691f6e.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/index.html-6d24b9a5.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/sources.html-0b3caa8f.js" as="script"><link rel="prefetch" href="/book-game-development-renpy/assets/404.html-87d54bd8.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/book-game-development-renpy/" class=""><!----><span class="site-name">Game Development with Ren’Py</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><!----><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/book-game-development-renpy/" class="sidebar-item sidebar-heading" aria-label="Разработка игр с помощью Ren’Py"><!--[--><!--]--> Разработка игр с помощью Ren’Py <!--[--><!--]--></a><!----></li><li><a href="/book-game-development-renpy/chapter_1.html" class="sidebar-item sidebar-heading" aria-label="Глава 1. Истории и как они создаются"><!--[--><!--]--> Глава 1. Истории и как они создаются <!--[--><!--]--></a><!----></li><li><a href="/book-game-development-renpy/chapter_2.html" class="sidebar-item sidebar-heading" aria-label="Глава 2. Древнее искусство интерактивной художественной литературы"><!--[--><!--]--> Глава 2. Древнее искусство интерактивной художественной литературы <!--[--><!--]--></a><!----></li><li><a href="/book-game-development-renpy/chapter_3.html" class="sidebar-item sidebar-heading" aria-label="Глава 3. Современные визуальные новеллы"><!--[--><!--]--> Глава 3. Современные визуальные новеллы <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html" class="router-link-active router-link-exact-active router-link-active sidebar-item sidebar-heading active" aria-label="Глава 4. Знакомимся с Ren’Py, Twine и TyranoBuilder"><!--[--><!--]--> Глава 4. Знакомимся с Ren’Py, Twine и TyranoBuilder <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#ren-py-в-деталях" class="router-link-active router-link-exact-active sidebar-item" aria-label="Ren&#39;Py в деталях"><!--[--><!--]--> Ren&#39;Py в деталях <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#как-работает-ren-py" class="router-link-active router-link-exact-active sidebar-item" aria-label="Как работает Ren&#39;Py"><!--[--><!--]--> Как работает Ren&#39;Py <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#создание-нового-проекта" class="router-link-active router-link-exact-active sidebar-item" aria-label="Создание нового проекта"><!--[--><!--]--> Создание нового проекта <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#функционал-ren-py" class="router-link-active router-link-exact-active sidebar-item" aria-label="Функционал Ren&#39;Py"><!--[--><!--]--> Функционал Ren&#39;Py <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#основы-в-написания-сценариев-на-ren-py" class="router-link-active router-link-exact-active sidebar-item" aria-label="Основы в написания сценариев на Ren’Py"><!--[--><!--]--> Основы в написания сценариев на Ren’Py <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#взаимодеиствуем-с-пользователем-меню" class="router-link-active router-link-exact-active sidebar-item" aria-label="Взаимодействуем с пользователем: Меню"><!--[--><!--]--> Взаимодействуем с пользователем: Меню <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#отступы-и-текстовые-блоки" class="router-link-active router-link-exact-active sidebar-item" aria-label="Отступы и текстовые блоки"><!--[--><!--]--> Отступы и текстовые блоки <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#условные-операторы-if-elif-else" class="router-link-active router-link-exact-active sidebar-item" aria-label="Условные операторы: if, elif, else"><!--[--><!--]--> Условные операторы: if, elif, else <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#подробнеи-об-операторе-управления" class="router-link-active router-link-exact-active sidebar-item" aria-label="Подробней об операторе управления"><!--[--><!--]--> Подробней об операторе управления <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#twine-в-деталях" class="router-link-active router-link-exact-active sidebar-item" aria-label="Twine в деталях"><!--[--><!--]--> Twine в деталях <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#связываем-параграфы-переходами" class="router-link-active router-link-exact-active sidebar-item" aria-label="Связываем параграфы переходами"><!--[--><!--]--> Связываем параграфы переходами <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#twine-и-аудиовизуал" class="router-link-active router-link-exact-active sidebar-item" aria-label="Twine и аудиовизуал"><!--[--><!--]--> Twine и аудиовизуал <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#форматы-twine" class="router-link-active router-link-exact-active sidebar-item" aria-label="Форматы Twine"><!--[--><!--]--> Форматы Twine <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#макросы-в-twine" class="router-link-active router-link-exact-active sidebar-item" aria-label="Макросы в Twine"><!--[--><!--]--> Макросы в Twine <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#пользовательскии-интерфеис-twine" class="router-link-active router-link-exact-active sidebar-item" aria-label="Пользовательский интерфейс Twine"><!--[--><!--]--> Пользовательский интерфейс Twine <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#несколько-слов-о-ifid" class="router-link-active router-link-exact-active sidebar-item" aria-label="Несколько слов о IFID"><!--[--><!--]--> Несколько слов о IFID <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#знакомимся-с-css" class="router-link-active router-link-exact-active sidebar-item" aria-label="Знакомимся с CSS"><!--[--><!--]--> Знакомимся с CSS <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#tyranobuilder-в-деталях" class="router-link-active router-link-exact-active sidebar-item" aria-label="TyranoBuilder в деталях"><!--[--><!--]--> TyranoBuilder в деталях <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#рабочии-процесс-в-tyranobuilder" class="router-link-active router-link-exact-active sidebar-item" aria-label="Рабочий процесс в TyranoBuilder"><!--[--><!--]--> Рабочий процесс в TyranoBuilder <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#приключение-в-двух-сценах" class="router-link-active router-link-exact-active sidebar-item" aria-label="Приключение в двух сценах"><!--[--><!--]--> Приключение в двух сценах <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#персонажи-в-tyranobuilder" class="router-link-active router-link-exact-active sidebar-item" aria-label="Персонажи в TyranoBuilder"><!--[--><!--]--> Персонажи в TyranoBuilder <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#добавление-мультимедиа" class="router-link-active router-link-exact-active sidebar-item" aria-label="Добавление мультимедиа"><!--[--><!--]--> Добавление мультимедиа <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#tyranobuilder-и-медиафаилы" class="router-link-active router-link-exact-active sidebar-item" aria-label="TyranoBuilder и медиафайлы"><!--[--><!--]--> TyranoBuilder и медиафайлы <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#несколько-слов-о-настроиках-игры" class="router-link-active router-link-exact-active sidebar-item" aria-label="Несколько слов о Настройках игры"><!--[--><!--]--> Несколько слов о Настройках игры <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#скрипты-в-tyranobuilder" class="router-link-active router-link-exact-active sidebar-item" aria-label="Скрипты в TyranoBuilder"><!--[--><!--]--> Скрипты в TyranoBuilder <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#live2d" class="router-link-active router-link-exact-active sidebar-item" aria-label="Live2D"><!--[--><!--]--> Live2D <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/book-game-development-renpy/chapter_4.html#заключение" class="router-link-active router-link-exact-active sidebar-item" aria-label="Заключение"><!--[--><!--]--> Заключение <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/book-game-development-renpy/chapter_5.html" class="sidebar-item sidebar-heading" aria-label="Глава 5. Погружаемся глубже"><!--[--><!--]--> Глава 5. Погружаемся глубже <!--[--><!--]--></a><!----></li><li><a href="/book-game-development-renpy/chapter_6.html" class="sidebar-item sidebar-heading" aria-label="Глава 6."><!--[--><!--]--> Глава 6. <!--[--><!--]--></a><!----></li><li><a href="/book-game-development-renpy/chapter_7.html" class="sidebar-item sidebar-heading" aria-label="Глава 7."><!--[--><!--]--> Глава 7. <!--[--><!--]--></a><!----></li><li><a href="/book-game-development-renpy/chapter_8.html" class="sidebar-item sidebar-heading" aria-label="Глава 8."><!--[--><!--]--> Глава 8. <!--[--><!--]--></a><!----></li><li><a href="/book-game-development-renpy/sources.html" class="sidebar-item sidebar-heading" aria-label="Источники"><!--[--><!--]--> Источники <!--[--><!--]--></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="глава-4-знакомимся-с-ren-py-twine-и-tyranobuilder" tabindex="-1"><a class="header-anchor" href="#глава-4-знакомимся-с-ren-py-twine-и-tyranobuilder" aria-hidden="true">#</a> Глава 4. Знакомимся с Ren’Py, Twine и TyranoBuilder</h1><p>В этой главе мы рассмотрим три инструмента для создания визуальных новелл: Ren’Py, Twine и TyranoBuilder. Хотя основное внимание в этой книге отдано Ren’Py, но также будет уделено достаточно времени и к двум другим движкам, чтобы познакомится с их пользовательскими интерфейсами, основными возможностями, и с подходами к разработке визуальных новелл.</p><p>Примеры в данной главе будут простыми, а в следующих главах мы рассмотрим более продвинутые методы разработки в виде трех мини-приключений.</p><p>И начнём мы с сравнением характеристик этих движков (см. таблицу 4-1).</p><p><strong>Таблица 4-1.</strong> Сравнительная таблица Ren’Py, Twine и TyranoBuilder</p><table><thead><tr><th>Инструмент</th><th>Лицензия</th><th>Поддержка ОС</th><th>Разработка на ОС</th><th>Лучше всего подходит для</th></tr></thead><tbody><tr><td><em>Ren’Py</em></td><td>Свободная</td><td>Windows, macOS, Linux, iOS, Android</td><td>Windows, macOS, Linux</td><td>Визуальных новелл</td></tr><tr><td><em>Twine</em></td><td>Свободная</td><td>Windows, macOS, iOS, Android, Linux, HTML5</td><td>Windows, macOS, Linux, online</td><td>Минималистической интерактивной художественной литературы с поддержкой визуальных элементов на основе CSS и JavaScript.</td></tr><tr><td><em>TyranoBuilder</em></td><td>$15 (2023)</td><td>Windows, macOS, iOS, Android</td><td>Windows, macOS</td><td>Визуальных новелл с продвинутой анимацией персонажей с использованием технологии Live2D</td></tr></tbody></table><h2 id="ren-py-в-деталях" tabindex="-1"><a class="header-anchor" href="#ren-py-в-деталях" aria-hidden="true">#</a> Ren&#39;Py в деталях</h2><p>Ren’Py — это мощный инструмент, разработанный исключительно для написания визуальных новелл, а благодаря языку программирования Python позволяет создать более сложные игры. Данное программное обеспечение распространяется бесплатно, и его можно скачать по ссылке: <a href="https://www.renpy.org/" target="_blank" rel="noopener noreferrer">https://www.renpy.org/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><p>Данный игровой движок позволяет создавать как некоммерческие, так и коммерческие игры для разных платформ. Самые успешные созданные визуальные новеллы это <em>Doki Doki Literature Club!</em> и <em>Digital: A Love Story</em>. Кроме того, Ren’Py имеет огромное сообщество разработчиков и не мало активных форумов. Так же Ren’Py поддерживает большинство популярных форматов изображений и аудио.</p><p>Выйдя в 2004 году, Ren&#39;Py по-прежнему остается популярным инструментом для разработки визуальных новелл, а регулярно выходящие новые версии движка говорит о том, что проект активно развивается.</p><h3 id="как-работает-ren-py" tabindex="-1"><a class="header-anchor" href="#как-работает-ren-py" aria-hidden="true">#</a> Как работает Ren&#39;Py</h3><p>Ren’Py можно разделить на три компонента: лаунчер (см. рис. 4-1), файлы сценариев и аудиовизуальные элементы (то есть изображения и аудиофайлы). Лаунчер — это, по сути, менеджер проектов, который позволяет вам создавать и управлять игровыми проектами, над которыми вы работаеете.</p><p><img src="/book-game-development-renpy/assets/figure_4_1-54cabcdf.png" alt="Рисунок 4-1. Лаунчер Ren’Py"></p><p><strong>Рисунок 4-1.</strong> Лаунчер Ren’Py</p><p>Все файлы сценариев в Ren’Py имеют расширение <em>.rpy</em> (например: <em>script.rpy</em>). Это обычный текстовый файлы, который можно редактировать в любом текстовом редакторе, но сам Ren&#39;Py не имеет встроенного редактора для работы с файлами со скриптами. Однако, на сайте Ren’Py присутствует список рекомендуемых бесплатных текстовых редакторов.</p><h3 id="создание-нового-проекта" tabindex="-1"><a class="header-anchor" href="#создание-нового-проекта" aria-hidden="true">#</a> Создание нового проекта</h3><p>Чтобы создать проект нужно на панели лаунчера нажать «Добавить новый проект». Появиться окно, где нужно выбрать каталог, в котором будут сохранены все файлы игры. На следующем шаге вам будет предложено указать название проекта.</p><p>Далее вам нужно выбрать расширение экрана. По умолчанию предлагаются следующие расширения 1280x720 (HD), 1920x1080 (Full HD), 2560x1440 (Quad HD), 3840x2160 (4K) или «Своё». Выбор обычно зависит от размера используемой графики в художественном произведении. Естественно, лучше подобрать оптимальный масштаб изображений для проекта. Например, на данный момент самым распространённым расширение мониторов является 1920x1080 (Full HD), в результате на мониторах 1280x720 игра будет выглядеть отлично, но хуже на мониторах с большими расширениями. Так же игры с указанным расширением способны запуститься на более старых компьютерах, поскольку такие проекты не требовательны к характеристикам оборудования, по с сравнением 3D играми.</p><p>В конце вам будет предложено выбрать цветовую схему для игры. Выбирайте ту, которая лучше всего соответствует вашему проекту, её можно будет изменить позже если это потребуется. После это будет создан проекта, который появиться в списке проектов лаунчера.</p><p>Для запуска игры достаточно нажать «Запустить проект».</p><h3 id="функционал-ren-py" tabindex="-1"><a class="header-anchor" href="#функционал-ren-py" aria-hidden="true">#</a> Функционал Ren&#39;Py</h3><p>Лаунчер выступает основным инструментов для управления проектами в Ren&#39;Py. Хотя доступ к директории и файлам проекта можно получить через обыкновенный проводник или файловый менеджер, но удобней это будет делать через лаунчер. Давайте познакомимся с его основными возможностями (см. таблицу 4-2).</p><p><strong>Таблица 4-2.</strong> Возможности лаунчера Ren&#39;Py</p><table><thead><tr><th>Действие</th><th>Описание</th><th>Используется для</th></tr></thead><tbody><tr><td><em>Навигация по сценарию</em></td><td>Позволяет быстро находить файлы и другие элементы в вашем проекте</td><td>Позволяет добавить файл сценария</td></tr><tr><td><em>Проверить скрипт (Lint)</em></td><td>Запускает Lint, чтобы проверить игровые скрипты на содержание ошибок</td><td>Желательно запускать, каждый раз перед сборкой вашего проекта</td></tr><tr><td><em>Изменить/Обновить GUI</em></td><td>Позволяет изменить цветовую схему пользовательского интерфейса</td><td>Используется, когда меняется дизайн визуальной новеллы</td></tr><tr><td><em>Очистить постоянные</em></td><td>Удаляет сохранения и другие временные данные игр</td><td>Тестирование игры с нуля</td></tr><tr><td><em>Перекомпилировать проект</em></td><td>Перекомпилирует все файлы скриптов в проекте</td><td>Используется для устранения дефектов в скомпилированных скриптах или импорта проекта из старой версии Ren’Py в новую</td></tr><tr><td><em>Построить дистрибутивы</em></td><td>Создает исполняемый файл игры (например, для ПК, macOS, Linux)</td><td>Используется для распространения игр на указанных вами платформах</td></tr><tr><td><em>Android</em></td><td>Запускает процесс экспорта проекта на Android, при помощи установленного бесплатного инструмент Ren’Py для упаковки Android (RAPT)</td><td>Позволяет выпустить визуальную новеллу для платформы Android</td></tr><tr><td><em>iOS</em></td><td>Запускает процесс экспорта проекта для iOS путем установки бесплатного инструмента Renios</td><td>Позволяет выпустить визуальную новеллу для платформы iOS (iPad, iPhone)</td></tr><tr><td><em>Создать переводы</em></td><td>Создает переводы текстов в игре на другие языки</td><td>Используется, когда возникает необходимость выпустить игру на дополнительных рынках</td></tr><tr><td><em>Извлечь диалог</em></td><td>Экспорт внутри игровых диалогов (или другого текста) в текстовых файл или в файл электронной таблицы</td><td>Позволяет корректорам и другим членам команды прочитать материал, не играя в игру</td></tr></tbody></table><p>Как видно, Ren’Py довольно многофункционален. Сперва он может показаться сложным для новичка, но после ознакомления с основными принципами работы программы, придёт понимание, что они не так уже и сложны. Со временем имея достаточно мотивации, вы научитесь использовать мультиязычность и собирать проект для Android.</p><h3 id="основы-в-написания-сценариев-на-ren-py" tabindex="-1"><a class="header-anchor" href="#основы-в-написания-сценариев-на-ren-py" aria-hidden="true">#</a> Основы в написания сценариев на Ren’Py</h3><p>Ren’Py имеет гибкий и простой язык сценариев, с которым мы сейчас познакомимся на основе приведённого ниже простого примера.</p><blockquote><p><strong>Примечание:</strong></p><p>Имена файлов с изображениями персонажей должны быть короткие и понятные к каким героям они относятся. Например, в нашем небольшом скрипте изображение Маркуса имеет название mar.png, то есть оно сокращено, и соответствует имени определённое в скрипте. Также файлы должны быть помещены в каталог с изображениями вашего проекта.</p></blockquote><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>init<span class="token punctuation">:</span>
    $ mar <span class="token operator">=</span> Character<span class="token punctuation">(</span><span class="token string">&#39;Маркус&#39;</span><span class="token punctuation">)</span>
    image home <span class="token operator">=</span> Image<span class="token punctuation">(</span><span class="token string">&quot;home_of_markus.jpg&quot;</span><span class="token punctuation">)</span>
    image markus happy <span class="token operator">=</span> Image<span class="token punctuation">(</span><span class="token string">&quot;markus_happy.png&quot;</span><span class="token punctuation">)</span>
    image markus sad <span class="token operator">=</span> Image<span class="token punctuation">(</span><span class="token string">&quot;markus_sad.png&quot;</span><span class="token punctuation">)</span>
label start<span class="token punctuation">:</span>
    scene home
    show markus happy
    mar <span class="token string">&quot;Вот я дома и счастлив!&quot;</span>
    hide markus happy
    show markus sad
    mar <span class="token string">&quot;Но похоже молоко закончилось.&quot;</span>
    <span class="token string">&quot;Маркус явно расстроился из-за отсутствия молока.&quot;</span>
    hide markus happy
    show mar
    mar <span class="token string">&quot;Не поздно ли идти в продуктовый магазин?&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Как видим скрипт начинается с оператора инициализации <em>init:</em>, где мы задаем изображения для фона и персонажей. В наведённом примере, изображение <em>home_of_markus.jpg</em> связано с переменной <em>home</em>. Всякий раз, когда нужно показать, что наш герой находится дома достаточно вызвать переменную под именем home, вместо длинного имени файла <em>home_of_markus.jpg</em>.</p><p>Аналогично, когда нам нужно изобразить эмоциональное состояние Маркуса, например, грустного или счастливого, мы соответственно задаём переменные, которым присваиваем изображения грустного и счастливого Маркуса, и чтобы показать счастливого главного героя нужно написать команду &quot;show markus happy&quot;. Это позволяет не использовать длинные имена файлов, сократить код, держать его чистым и понятным для чтения. Вы можете применять другие эмоции, так как Ren’Py не имеет на них ограничения.</p><p>Одним из основным оператором в Ren’Py являются метки, которые позволяют выполнить переход по сценарию игры или используются для создания меню выбора. То есть по сути метки можно сравнить с понятием сцены, которые могут меняться по ходу игры. В нашем примере, игра начинается с метки <em>label start:</em>. Так как сценарий простой в нем нет других меток или вариантов выбора, пользователь просто щелкает, переходя от одного диалога к другому. Имена меток могут быть любые, например, <em>label work:</em> или <em>label holiday:</em>.</p><p>После метки <em>start:</em> идет оператор по выводу фона и изображения счастливого Маркуса. Далее выводится текст &quot;Вот я дома и счастлив!&quot;, <em>помеченный оператором символа</em> (<em>character definition statement</em>) mar, который был инициализирован в разделе <em>init:</em> командой <em>Character(&#39;Маркус&#39;)</em>. Простыми словами, мы создали героя <em>Маркус</em> и связываем все его диалоги при помощи переменной mar.</p><p>Далее мы рассмотрим некоторые основные элементы языка Ren&#39;Py в таблице 4-3.</p><p><strong>Таблица 4-3.</strong> Ключевые элементы языка Ren’Py</p><table><thead><tr><th>Элемент/Объявление</th><th>Описание</th><th>Пример использования</th></tr></thead><tbody><tr><td>init:</td><td>Метка инициализации. Используется для объявления псевдонимов имен файлов и других постоянных данных. Обычно используется для изображений.</td><td>init:<br> image garage = Image(&quot;garage.jpg&quot;)</td></tr><tr><td>image</td><td>Используется для определения псевдонимов для файлов изображений.</td><td>image billy happy = Image(&quot;billy.jpg&quot;)<br> image billy angry = Image(&quot;billy2.jpg&quot;)</td></tr><tr><td>label</td><td>Используется для создания метки перехода по сценарию игры.</td><td>label garage:<br> &quot;We&#39;re in the garage!&quot;</td></tr><tr><td><em>Макрос персонажа</em></td><td>Используется для создания короткого псевдонима игровому персонажу.</td><td>$ b = Character(&#39;Billy&#39;)<br> $ c = Character(&#39;Christopher&#39;)</td></tr><tr><td>scene</td><td>Удаляет все отображаемые объекты с экрана перед вызовом новых.</td><td>scene garage</td></tr><tr><td>show</td><td>Показывает изображение персонажа. Так же можно указывать дополнительное описание, например, «Джеймс счастлив» или «Джеймс злой».</td><td>show billy happy</td></tr><tr><td>hide</td><td>Скрывает изображение персонажа.</td><td>hide billy happy</td></tr><tr><td><em>Произнести фразу</em></td><td>Выводит текст на экран или выводит текст принадлежащий персонажу назначенный с помощью макроса персонажей.</td><td>&quot;Стояла тишина.&quot;<br> b &quot;Кристофер! Ты здесь?&quot;<br> c &quot;Да, Билли. Я здесь.&quot;</td></tr><tr><td><em>Переходы</em></td><td>Для мягкого появления изображений в сцене используются переходы, например, затухание или растворение. Вызывается эти эффекты оператором <em>with</em>.</td><td>show billy angry<br> with fade<br> hide billy angry<br> with dissolve</td></tr><tr><td>play sound</td><td>Воспроизводит звуковой файл.</td><td>play sound &quot;soundfx1.ogg&quot;</td></tr><tr><td>pause</td><td>Ставит игру на паузу до щелчка мыши. Если указано число, пауза закончится через указанное количество секунд.</td><td>pause 2.0</td></tr></tbody></table><h3 id="взаимодеиствуем-с-пользователем-меню" tabindex="-1"><a class="header-anchor" href="#взаимодеиствуем-с-пользователем-меню" aria-hidden="true">#</a> Взаимодействуем с пользователем: Меню</h3><p>Хотя существует жанр <em>кинетическая новелла</em> - это визуальная новела с линейным сюжетом, неплохо бы было дать игроку возможность выбора в истории. Для этого используется такой элемент как <em>menu</em>, которое состоит из меток и команд перехода <em>jump</em>. Пример использования показан в сценарии приведённый ниже.</p><p>Так же обратите внимание, как в примере используются псевдонимы, которые ссылаются на Кристофера <em>(c)</em> и Билли <em>(b)</em> рассматриваемые в предыдущей главе.</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>b <span class="token string">&quot;Эй, Кристофер, пошли на улицу?&quot;</span>
pause <span class="token number">2.0</span>

menu<span class="token punctuation">:</span>
    <span class="token string">&quot;Да. Давай.&quot;</span><span class="token punctuation">:</span>
        jump outsideworld
    <span class="token string">&quot;Нет. Хочу остаться здесь.&quot;</span><span class="token punctuation">:</span>
        jump stayput

label outsideworld<span class="token punctuation">:</span>
    c <span class="token string">&quot;О. А здесь так свежо!&quot;</span>
    jump endstory

label stayput<span class="token punctuation">:</span>
     c <span class="token string">&quot;Гараж - *это* прекрасное место.&quot;</span>
     jump endstory

label endstory<span class="token punctuation">:</span>
     <span class="token string">&quot;Конец истории.&quot;</span>
     play sound <span class="token string">&quot;fanfare.ogg&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="отступы-и-текстовые-блоки" tabindex="-1"><a class="header-anchor" href="#отступы-и-текстовые-блоки" aria-hidden="true">#</a> Отступы и текстовые блоки</h3><p>Одной из наиболее распространенной причиной ошибок в Ren’Py является неправильное соблюдение отступов. Язык очень чувствителен к пробелам до такой степени, что скрипт может просто не запуститься. Благодаря отступам, состоящих из четырех пробелов, скрипт делиться на логические блоки, как это показано в следующем примере.</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token string">&quot;Это предложение является частью первого блока.&quot;</span>

<span class="token keyword">if</span> <span class="token boolean">True</span><span class="token punctuation">:</span>

    <span class="token string">&quot;Это предложение является частью второго блока.&quot;</span>

    <span class="token string">&quot;Да, это предложение также является частью второго блока.&quot;</span>

    <span class="token string">&quot;Я думаю вы догадались? Это предложение тоже относится ко второму блоку.&quot;</span>

<span class="token string">&quot;И вот мы снова вернулись к первому блоку.&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Как видим операторы первого блока не содержит отступов, однако они есть во втором блоке. Если перед каким-либо оператором во втором блоке будет стоять другое количество пробелов, то программа отнесет оператор в новый блок или запутается в логике скрипта и выдаст сообщение об ошибке.</p><h3 id="условные-операторы-if-elif-else" tabindex="-1"><a class="header-anchor" href="#условные-операторы-if-elif-else" aria-hidden="true">#</a> Условные операторы: if, elif, else</h3><p>В предыдущем сценарии мы встретили такой элемент как <em>if</em> - <em>условный оператор</em>, который используются для проверки состояния переменных. Сами переменные — это «именованное хранилище» для данных внутри игры, например, таких как количество жизней персонажа или других данных. Давайте рассмотрим условный оператор более подробно в следующем сценарии.</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token comment"># Создадим переменную с именем energy и присвоим ей случайное значение от 40 до 100.</span>
<span class="token comment"># Мы могли бы просто использовать что-то вроде &quot;$ energy = 100&quot;,</span>
<span class="token comment"># но мы сделаем по-другому.</span>
$ energy <span class="token operator">=</span> renpy<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">if</span> energy <span class="token operator">&gt;=</span> <span class="token number">100</span><span class="token punctuation">:</span>

   b <span class="token string">&quot;Уровень вашей энергии оптимален!&quot;</span>

<span class="token keyword">elif</span> energy <span class="token operator">&gt;=</span> <span class="token number">50</span><span class="token punctuation">:</span>

   b <span class="token string">&quot;Уровень вашей энергии приемлем.&quot;</span>

<span class="token keyword">else</span><span class="token punctuation">:</span>

   b <span class="token string">&quot;Уровень вашей энергии на исходе.&quot;</span>
   play sound <span class="token string">&quot;klaxon.ogg&quot;</span>
   pause <span class="token number">4.0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>В примере при помощи условного оператора <em>if</em> мы сравнивали переменную <em>energy</em>. Если переменная energy имеет значение 100 или больше, мы выводим сообщение восторга и одобрения. Далее идет оператор elif - это сокращение от <em>else if</em>. Эта часть программы выполняется, если energy больше или равна 50, но меньше 100, а после <em>оператор else</em> выполняется часть программы, если energy падает ниже 50.</p><p>После указания условного оператора соблюдая правила отступов, вы можете указывать не ограниченное количество текста и команд, как это показано в примере. После оператора else выводится диалоговый текст, далее проиграется звук, и игра приостанавливается на 4 секунды.</p><h3 id="подробнеи-об-операторе-управления" tabindex="-1"><a class="header-anchor" href="#подробнеи-об-операторе-управления" aria-hidden="true">#</a> Подробней об операторе управления</h3><p>Использование меток и команд перехода — это не единственный способ управления сценариями Ren’Py. Другая полезная конструкция состоит из команд <em>label</em>, <em>call</em> и <em>return</em>. Их использование продемонстрировано в сценарии ниже.</p><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>c <span class="token string">&quot;Давайте выпьем немного газировки.&quot;</span>

call drink_soda

c <span class="token string">&quot;Так мы выпили всю газировку.&quot;</span>

<span class="token keyword">return</span>

label drink_soda<span class="token punctuation">:</span>
    c <span class="token string">&quot;Мм. Вкусно, не так ли?&quot;</span>
    <span class="token keyword">return</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Данный пример выведет следующий текст: «Давайте выпьем немного газировки. Ммм... Вкусно, не так ли? Так мы выпили всю газировку». Используя команду call, мы переходим к метке drink_soda, после которой при помощи команды return снова возвращаемся в то же место сценария откуда был выполнен переход. Это позволяет вам повторно использовать повторяющиеся части кода. Однако если выполнить оператор return перед меткой <em>drink_soda</em>, то мы покинем основной сценарий и выйдем из игры попав в главное меню.</p><h2 id="twine-в-деталях" tabindex="-1"><a class="header-anchor" href="#twine-в-деталях" aria-hidden="true">#</a> Twine в деталях</h2><blockquote><p><strong>Примечание:</strong></p><p>На данный момент Twine имеет версию 2.6.2, которую и будем рассматривать в этой книге.</p></blockquote><p>Twine — прекрасный интуитивно понятный инструмент для создания игр с минималистическим интерфейсом. Его можно скачать с официального сайта: www.twinery.org или открыть в браузере по адресу: https://twinery.org/2 .</p><p>После установки и запуска Twine (см. рис. 4-2) мы увидим интерфейс состоящий из панели инструментов и из списка ранее сохраненных историй. Если его сравнить с Ren’Py, то Twine выглядит проще.</p><p><img src="/book-game-development-renpy/assets/figure_4_2-4c000257.png" alt="Рисунок 4-2. Интерфейс Twine"></p><p><strong>Рисунок 4-2.</strong> Интерфейс Twine</p><p>Чтобы создать новый проект на вкладке Story нужно нажать «+ New». В диалоговом окне нужно задать название игры, после чего вас перебросит на главный экран редактора.</p><p>Основной элемент в Twine - это <em>параграфы</em> (<em>passages</em>). После создания нового проекта, по умолчанию в виде квадрата с названием создается стартовый параграф. При двойном клике на нем, откроется редактор, где нужно описать локацию/комнату, с которого игрок начнет свое путешествие. Давайте напишем что-то простое, например: «Билли точно понравится полететь на воздушном шаре!»</p><h3 id="связываем-параграфы-переходами" tabindex="-1"><a class="header-anchor" href="#связываем-параграфы-переходами" aria-hidden="true">#</a> Связываем параграфы переходами</h3><p>Чтобы игрок мог перемещаться между созданными параграфами нужно использовать переходы. Для этого триггерные слова оборачиваются в двойные квадратные скобки. Давайте, возьмём предыдущий пример и добавим такой переход.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Билли точно понравится полететь на [[воздушном шаре]]!
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Теперь во время игры при нажатии на словосочетании «воздушном шаре» игрок попадет в новую локацию. Однако, если данный параграф не существует, то Twine автоматически создаст его.</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>В результате мы получим два параграфа, один созданный по умолчанию Twine, и один под 
названием «воздушном шаре».
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Предположим, нам нужно создать третий отрывок, в котором рассказывается, что Билли врезается в гору. Для этого отредактируем параграф «воздушном шаре», чтобы он выглядел примерно так:</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>О, нет! Билли не [[повезло!|гора]]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Что произойдёт в данной ситуации? Twine создает новый параграф под названием «гора», хотя использовалось ключевое слово — «повезло!». Как видим, чтобы обозначить альтернативное имя для нового параграфа используется специальный символ вертикальная черта (|). Таким образом, название параграфа в Twine не всегда может совпадать с названием перехода.</p><h3 id="twine-и-аудиовизуал" tabindex="-1"><a class="header-anchor" href="#twine-и-аудиовизуал" aria-hidden="true">#</a> Twine и аудиовизуал</h3><p>По сути, Twine – это документ в формате <em>HTML</em>, и чтобы добавить изображение или аудио в игру используются соответствующие HTML теги. Twine также поддерживает <em>каскадные таблицы стилей (CSS)</em>, что позволяет легко менять цветовую схему и шрифты. В приведённой таблице рассмотрены наиболее популярные HTML теги, которые используются в Twine (см. Таблицу 4-4).</p><p><strong>Таблица 4-4.</strong> HTML-теги в Twine</p><table><thead><tr><th>HTML-тег</th><th>Назначение</th><th>Пример</th></tr></thead><tbody><tr><td>&lt;img&gt;</td><td>Отображает изображение в параграфе, поддерживает все популярные форматы</td><td>&lt;img src=&quot;images/billy.jpg&quot; /&gt;</td></tr><tr><td>&lt;a href&gt;</td><td>Определяет гиперссылку для перехода на другую страницу в Интернете</td><td>&lt;a href=&quot;http://www.example.com&quot;&gt;Пример сайта&lt;/a&gt;</td></tr><tr><td>&lt;audio&gt;</td><td>Воспроизводит аудиофайлы в формате mp3, Ogg и wav.</td><td>&lt;audio autoplay&gt;<br>&lt;source src=&quot;audio/wind.ogg&quot; type=&quot;audio/ogg&quot;&gt;<br>&lt;/audio&gt;</td></tr><tr><td>&lt;video&gt;</td><td>Воспроизводит видеофайлы в формате mp4, Ogg или WebM. Атрибуты width и height используются для указания ширины и высоты. Если указать атрибут autoplay видео воспроизведётся автоматически.</td><td>&lt;video width=&quot;400&quot; height=&quot;240&quot; autoplay&gt;<br>&lt;source src=&quot;movie.mp4&quot; type=&quot;video/mp4&quot;&gt;<br>&lt;source src=&quot;movie.ogg&quot; type=&quot;video/ogg&quot;&gt;<br>&lt;/video&gt;</td></tr><tr><td>&lt;iframe&gt;</td><td>Используется для встраивания видео с YouTube</td><td>&lt;iframe width=&quot;420&quot; height=&quot;345&quot; src=&quot;https://www.youtube.com/embed/tgbNymZ7vqY?autoplay=1&quot;&gt;&lt;/iframe&gt;</td></tr></tbody></table><p>Указанные теги просто встраиваются в содержание любого параграфа.</p><h3 id="форматы-twine" tabindex="-1"><a class="header-anchor" href="#форматы-twine" aria-hidden="true">#</a> Форматы Twine</h3><p>Twine 2 поддерживает редактирование игр в различных форматах, которые переключаются на вкладке Twine -&gt; <em>Story Format</em>. Формат <em>Harlow</em>, выбранный по умолчанию, ориентирован на начинающих пользователей. Формат <em>SugarCube</em>, обеспечивает совместимость с Twine первой версии, он больше относиться к авторам, уже знакомым с веб-технологиями. Третий формат <em>Snowman</em> минималистичен и ориентирован на разработчиков, уже знакомых с HTML и CSS.</p><p>В этой главе мы рассмотрим <em>формат истории SugarCube</em>, а с <em>Harlowe</em> и <em>Snowman</em> познакомимся позже.</p><h3 id="макросы-в-twine" tabindex="-1"><a class="header-anchor" href="#макросы-в-twine" aria-hidden="true">#</a> Макросы в Twine</h3><p>К дополнению к HTML, в Twine имеет набор макросов, которые упрощают работу, например, со звуком или переменными (см. Таблицу 4-5). Сами макросы добавляются прямо в содержимое параграфа по ходу диалога.</p><p>В Twine возможно использовать либо локальные ресурсы (хранящиеся на вашем компьютере), либо ресурсы из интернета. Однако, как правило, рекомендуется использовать локальные ресурсы, так как ресурсы из интернета могут стать недоступны в любой момент.</p><p><strong>Таблица 4-5.</strong> Основные макросы в Twine для игр в формате SugarCube.</p><table><thead><tr><th>Макрос</th><th>Назначение</th><th>Пример</th></tr></thead><tbody><tr><td>&lt;&lt;cacheaudio&gt;&gt;</td><td>Кеширует аудиофайл для дальнейшего воспроизведения и присваивает ему имя.</td><td>&lt;&lt;cacheaudio &quot;forest&quot; &quot;forest.mp3&quot;&gt;&gt;<br>&lt;&lt;cacheaudio &quot;wow&quot; &quot;http://www.soundbank.com/wow.mp3&quot;&gt;&gt;</td></tr><tr><td>&lt;&lt;audio&gt;&gt;</td><td>Воспроизводит аудиофайл<br>Воспроизведение аудиофайла в повторе<br>Останавливает воспроизведение аудиофайла<br>Устанавливает текущее время воспроизведения (в секундах)<br>Устанавливает громкость звука в диапазоне от 0 до 1 и воспроизводит его</td><td>&lt;&lt;audio &quot;forest&quot; play&gt;&gt;<br>&lt;&lt;audio &quot;wow&quot; play loop&gt;&gt;<br>&lt;&lt;audio &quot;forest&quot; stop&gt;&gt;<br>&lt;&lt;audio &quot;music1&quot; time 30&gt;&gt;<br>&lt;&lt;audio &quot;music1&quot; volume 0.2 play&gt;&gt;</td></tr><tr><td>&lt;&lt;createplaylist&gt;&gt;</td><td>Создаёт плейлист. Работает в паре с &lt;&lt;cacheaudio&gt;&gt;</td><td>&lt;&lt;cacheaudio &quot;song1&quot; &quot;song1.mp3&quot;&gt;&gt;<br>&lt;&lt;cacheaudio &quot;song2&quot; &quot;song2.mp3&quot;&gt;&gt;<br>&lt;&lt;createplaylist &quot;myplaylist&quot;&gt;&gt;<br>&lt;&lt;track &quot;song1&quot;&gt;&gt;<br>&lt;&lt;track &quot;song2&quot;&gt;&gt;<br>&lt;&lt;/createplaylist&gt;&gt;</td></tr><tr><td>&lt;&lt;playlist&gt;&gt;</td><td>Воспроизводит плейлист, созданный с помощью &lt;&lt;createplaylist&gt;&gt;<br>Останавливает воспроизведение плейлиста</td><td>&lt;&lt;playlist &quot;myplaylist&quot; play&gt;&gt;<br>&lt;&lt;playlist &quot;myplaylist&quot; stop&gt;&gt;</td></tr><tr><td><em>Stop all audio</em></td><td>Останавливает воспроизведение всех аудиофайлов</td><td>&lt;&lt;audio &quot;:all&quot; stop&gt;&gt;</td></tr><tr><td>&lt;&lt;goto&gt;&gt;</td><td>Немедленно перенаправляет игрока к параграфу с указанным именем</td><td>&lt;&lt;goto &quot;Pyramids&quot;&gt;&gt;</td></tr><tr><td>&lt;&lt;back&gt;&gt;</td><td>Создает ссылку с текстом &quot;Restaurant&quot;, которая возвращает на один параграф назад</td><td>&lt;&lt;back &quot;Restaurant&quot;&gt;&gt;</td></tr><tr><td>&lt;&lt;include&gt;&gt;</td><td>Выводит содержимое параграфа с заданным именем, внутри текущего параграфа</td><td>&lt;&lt;include &quot;Pyramids&quot;&gt;&gt;</td></tr><tr><td>&lt;&lt;script&gt;&gt;</td><td>Выполняет JavaScript</td><td>&lt;&lt;script&gt;&gt; alert( ‘Привет!’ ); &lt;&lt;/script&gt;&gt;</td></tr><tr><td>&lt;&lt;set&gt;&gt;</td><td>Изменяет значение переменной на основе указанного выражения</td><td>&lt;&lt;set $money to 0&gt;&gt;</td></tr></tbody></table><p>Как видно, Twine имеет неплохие инструменты, чтобы сделать ваше приключение лучше. Но, если этого вам окажется недостаточно, то можно перейти к использованию JavaScript.</p><h3 id="пользовательскии-интерфеис-twine" tabindex="-1"><a class="header-anchor" href="#пользовательскии-интерфеис-twine" aria-hidden="true">#</a> Пользовательский интерфейс Twine</h3><p>Интерфейс Twine действительно очень прост по сравнению, скажем, с Ren’Py.</p><p><img src="/book-game-development-renpy/assets/figure_4_3-b085035b.png" alt="Рисунок 4-3. Рабочая область Twine"></p><p><strong>Рисунок 4-3.</strong> Рабочая область Twine</p><p>Рабочая область Twine имеет вид чертежной доски (см. рис. 4-3), на которой располагаются параграфы прямоугольной формы. В свою очередь параграфы могут быть связаны переходами виде стрелок. Такая форма предоставления данных дает четкое понимание, что происходит в игре.</p><p>Теперь, давайте рассмотрим основные функции панели инструментов (см. Таблицу 4-6).</p><p><strong>Таблица 4-6.</strong> Функции панели инструментов Twine.</p><table><thead><tr><th>Элемент</th><th>Описание</th><th>Для чего используется</th></tr></thead><tbody><tr><td>Story\JavaScript</td><td>Даёт возможность вставить JavaScript, который будет выполнен при инициализации игры.</td><td>Позволяет добавить новый функционал при помощи JavaScript</td></tr><tr><td>Story\Stylesheet</td><td>Позволяет редактировать каскадные таблицы стилей (CSS)</td><td>Позволяет изменить внешний вид вашей игры</td></tr><tr><td>Twine\Story Formats</td><td>Изменяет подход к разработке вашего проекта</td><td>Используется для выбора формата истории, например: Harlowe, Snowman или SugarCube</td></tr><tr><td>Story\Rename</td><td>Изменяет название игры</td><td>Если потребуется изменить название игры, то это можно сделать на любой стадии разработки проекта</td></tr><tr><td>Passage\Select All</td><td>Выделает все параграфы</td><td>Позволяет выделить все параграфы если их количество слишком велико</td></tr><tr><td>Show</td><td>Указывает вид отображения параграфов</td><td>Используется для организации работы с параграфами по вашему вкусу</td></tr><tr><td>Story\Details</td><td>Отображает информацию об игре, количество параграфов, символов, слов и др.</td><td>Используется для определения размера проекта или сверки IFID (с данным термином познакомимся чуть позже)</td></tr><tr><td>Build\Proof</td><td>Отображает историю в текстовом виде</td><td>Используется для вычитки и для поиска несоответствий в тексте</td></tr><tr><td>Build\Publish to File</td><td>Экспортирует историю в HTML-файл</td><td>Позволяет распространить игру на различны платформы (Windows, Mac, iOS, Интернет и т. д.)</td></tr></tbody></table><p>Так же Twine имеет возможность выполнять быстрый поиск. Для этого перейдите на вкладку «Passage» и выберите «Go To». Появиться форма для ввода поискового запроса. Указав искомый текст, вы в реальном времени получите выборку параграфов на основе указанного запроса.</p><h3 id="несколько-слов-о-ifid" tabindex="-1"><a class="header-anchor" href="#несколько-слов-о-ifid" aria-hidden="true">#</a> Несколько слов о IFID</h3><p>В предыдущем разделе мы встретились с идентификатором длиной в 32 символа, помеченный как <em>Interactive Fiction IDentifier (IFID)</em>. Это уникальный идентификационный номер, который присваивается каждому интерактивному произведению. По сути это то же что и система ISBN для книг. Данная система была создана в 2006 году. Twine автоматически назначает такой идентификатор каждому произведению.</p><p>Узнать больше о IFID можно на официальном сайте: <a href="https://ifdb.tads.org" target="_blank" rel="noopener noreferrer">https://ifdb.tads.org<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><h3 id="знакомимся-с-css" tabindex="-1"><a class="header-anchor" href="#знакомимся-с-css" aria-hidden="true">#</a> Знакомимся с CSS</h3><p>Основным языком для декорирования внешнего вида веб-страниц являются CSS (каскадные таблицы стиле), и для тех же целей они успешно используется в Twine. Чтобы их изменить, нужно перейти на вкладку Story -&gt; Stylesheet.</p><p>Давайте познакомимся с некоторыми CSS-селекторами (см. Таблицу 4-7).</p><p><strong>Таблица 4-7.</strong> CSS селекторы используемые в Twine.</p><table><thead><tr><th>Селектор</th><th>Описание</th><th>Пример</th></tr></thead><tbody><tr><td><em>body</em></td><td>Позволяет изменить стили фона. Например: цвет фона, цвет шрифта, стиль шрифта или его размер.</td><td>body {<br>background-color: white;<br>}<br> Устанавливает белый цвет фона</td></tr><tr><td><em>a</em><br> <em>a:hover</em></td><td>Изменяет стили ссылок<br> Настраивает стили ссылок при наведении на них указателя мыши.</td><td>a { color: red; }<br> Ссылки станут ярко-красными<br> a:hover{ color: yellow; }<br> Все ссылки станут желтыми при наведении на них курсора мыши</td></tr><tr><td><em>#ui-bar</em></td><td>Изменяет стиль панели слева в истории в формате SugarCube.</td><td>#ui-bar { display: none; }<br> Скрывает панель</td></tr><tr><td><em>#story</em></td><td>Изменяет стиль правой части интерфейса истории в формате SugarCube.</td><td>#story { margin-left: 2.5em; }<br> Устанавливает левый отступ 2.5em</td></tr><tr><td><em>.passage</em></td><td>Изменяет стиль области вывода параграфа.</td><td>.passage { color: blue; }</td></tr></tbody></table><p>Приведённые примеры в таблице — это только верхушка того, что может CSS. Хотя в играх созданные при помощи Twine, делается акцент на сюжет, однако, визуальные эффекты не помешают улучшить атмосферу игры.</p><h2 id="tyranobuilder-в-деталях" tabindex="-1"><a class="header-anchor" href="#tyranobuilder-в-деталях" aria-hidden="true">#</a> TyranoBuilder в деталях</h2><p>TyranoBuilder предлагает удобный и простой интерфейс понятный как для начинающих, так и для продвинутых разработчиков. Используя метод схвати мышкой и перетяни (см. рис. 4-4), позволяет разработчику сконцентрироваться на написании сюжета.</p><p><img src="/book-game-development-renpy/assets/figure_4_4-2e44253f.png" alt="Рисунок 4-4. Интерфейс TyranoBuilder"></p><p><strong>Рисунок 4-4.</strong> Интерфейс TyranoBuilder</p><p>Если вам будет недостаточно стандартных средств TyranoBuilder для создания визуальной новеллы, тогда можно воспользоваться встроенным языком TyranoScript.</p><p>TyranoBuilder позволяет опубликовать игру на большинстве платформ, например: Windows, Mac, iOS, Android, Web.</p><p>Ознакомиться с TyranoBuilder можно на официальном веб-сайте: https://tyranobuilder.com/.</p><h3 id="рабочии-процесс-в-tyranobuilder" tabindex="-1"><a class="header-anchor" href="#рабочии-процесс-в-tyranobuilder" aria-hidden="true">#</a> Рабочий процесс в TyranoBuilder</h3><p>После запуска TyranoBuilder, отобразиться список ранее созданных проектов. Вы можете выбрать нужный проект или создать новый нажав на кнопку «New Project». В случае создания проекта потребуется, выполнить пошаговые инструкции, в которых нужно указать параметры для будущей игры. Результатом обоих действий будет открытие рабочей области программы. Именно здесь, вы будете добавлять сцены, тексты и другие компоненты. В самих сценах добавляемые компоненты отображаются и выполняются сверху вниз.</p><p>Компоненты TyranoBuilder можно разделить на три категории: элементы истории, аудиовизуальные эффекты, скрипты. Хотя список компонентов и небольшой, из которых больше всего аудиовизуальных, но их достаточно, чтобы создать увлекательную историю. Теперь давайте познакомимся с основными компонентами TyranoBuilder (см. Таблицу 4-8).</p><p><strong>Таблица 4-8.</strong> Основные компоненты TyranoBuilder</p><table><thead><tr><th>Компонент</th><th>Описание</th><th>Группа</th></tr></thead><tbody><tr><td><em>Text</em></td><td>Отображает диалог</td><td>Story</td></tr><tr><td><em>Label</em></td><td>Создает метку для перехода</td><td>Story</td></tr><tr><td><em>Jump</em></td><td>Выполняет переход к указанной метке</td><td>Story</td></tr><tr><td><em>Page Break</em></td><td>Очищает экран от диалога</td><td>Story</td></tr><tr><td><em>Wait</em></td><td>Останавливает повествование на указанное время (задается в миллисекундах)</td><td>Effects</td></tr><tr><td><em>Join Scene</em></td><td>Добавляет в сцену персонаж (персонаж создаётся через меню «Project\Characters»)</td><td>Characters</td></tr><tr><td><em>Exit Scene</em></td><td>Удаляет персонажа из сцены</td><td>Characters</td></tr><tr><td><em>Change Background</em></td><td>Изменяет фон используя эффект перехода (доступно 16 вариантов)</td><td>Images</td></tr><tr><td><em>Play Sound Effect</em></td><td>Воспроизводит аудио. Имеет параметры: плавный переход, громкость от 0% до 100%, циклическое воспроизведение</td><td>Media</td></tr><tr><td><em>Stop Sound Effect</em></td><td>Останавливает звук. Имеет параметр: затухание</td><td>Media</td></tr></tbody></table><h3 id="приключение-в-двух-сценах" tabindex="-1"><a class="header-anchor" href="#приключение-в-двух-сценах" aria-hidden="true">#</a> Приключение в двух сценах</h3><p>Чтобы понять, как работает TyranoBuilder, давайте, просто создадим новый проект. Для этого на панели лаунчера нажмем кнопку <em>&quot;New Project&quot;</em>. Далее, выполняем пошаговые инструкции: указываем название проекта, тип игры, расширение экрана и дополнительные параметры, которые в данном примере можно оставить как есть.</p><p>На втором шаге при создании проекта нужно выбрать тип игры: <em>визуальная новелла</em> или <em>звуковая новелла</em>. С таким типом, как визуальная новелла мы уже познакомились на страницах данной книге, а вот с термином звуковая новелла ещё нет. Сам по себе это тип игр мало известен. Разница заключается в подаче истории, в звуковой новелле, как не странно, может отсутствовать озвучка, а визуальная новела всегда наполнена визуальными эффектами. Можно сказать звуковая новелла — это минималистическая игра, в которой весь экран заполнен текстом. Сам термин возник благодаря компании по разработке ролевых игр <em>Chunsoft</em> в середине 1980-х.</p><p>По умолчанию в новом проекте присутствует демо игра, давайте познакомимся с ней. Для этого запустим проект нажав на белый треугольник в верхнем правом углу редактора (см. рис. 4-5).</p><p><img src="/book-game-development-renpy/assets/figure_4_5-3deb3dd6.png" alt="Рисунок 4-5. Проект по умолчанию в TyranoBuilder"></p><p><strong>Рисунок 4-5.</strong> Проект по умолчанию в TyranoBuilder.</p><p>Теперь давайте изменим игру. Создадим новую сцену и добавим переход на неё.</p><p>Закрываем демо игру, и возвращаемся в редактор TyranoBuilder. В левой части находится панель с трема вкладками: <em>Components (компоненты)</em>, <em>Assets (ассеты)</em>, <em>Scenes (сцены)</em> (см. рис. 4-6). Выбираем вкладку &quot;Scenes&quot;, далее нажимаем кнопку <em>&quot;New Scene (Новая сцена)&quot;</em>, указываем имя сцены, и подтверждаем создание нажав на <em>&quot;Create (Создать)&quot;</em>.</p><p>TyranoBuilder автоматически переключиться на новую сцену. Чтобы вернуться к исходной сцене <em>&quot;scene1&quot;</em> щёлкните по серой полосе, которая находится сверху над областью игры. Выбираем вкладку Components, находим компонент <em>&quot;Branch Button (Кнопка перехода)&quot;</em>, и перетягиваем её в конец области игры, после чего в правой части программы отобразиться панель с параметрами данного компонента. Так как каждый компонент имеет разную функциональность соответственно на правой панеле будут отображаться разные параметры. Одним из основных параметром кнопки перехода является <em>Target (Цель)</em>, где указывается метка для перехода. Так же можно задать текст кнопки в поле <em>Text (Текст)</em>, а при помощи <em>инструмента позиционирования (Positioning Tool)</em> можно задать положение кнопки в игре.</p><blockquote><p><strong>Примечание:</strong></p><p>Будьте внимательны, компонент Stop (остановка) должен быть внизу сцены. Если данный компонент окажется над кнопкой перехода, то она никогда не появится.</p></blockquote><p>Давайте зададим произвольный текст для кнопки указав его в поле Text, после чего для подтверждения нажимаем кнопку <em>Accept (Принять)</em>. Так же изменим расположение кнопки. Нажимаем кнопку Positioning Tool, в появившемся окне виде схематической сцены, мышкой перетягиваем кнопку куда вам нужно. Данные параметры можно указать вручную на панели сверху справа. После чего для подтверждения нажимаем кнопку <em>Accept</em> и сохраняем сцену нажав белую кнопку сверху слева или пункт меню Project\Save.</p><p><img src="/book-game-development-renpy/assets/figure_4_6-1777c29e.png" alt="Рисунок 4-6. Вкладка сцен в TyranoBuilder"></p><p><strong>Рисунок 4-6.</strong> Вкладка сцен в TyranoBuilder.</p><p>Теперь перейдем на ранее созданную сцену. По умолчанию на ней нет ничего, кроме одного текстового элемента. Дважды клацаем по нему и редактируем диалог на своё усмотрение. Затем перетаскиваем компонент Label (Метка) в самую верхнюю часть сценария. Выбираем созданную метку и в поле Label Name указываем название, например «label1». Сохраняем сцену и возвращаемся к сцене, где был добавлен компонент Branch Button.</p><p>Выбираем кнопку перехода и в параметре <em>&quot;Location (Местоположение)&quot;</em> указываем сцену для перехода, а в поле <em>Target</em> указываем метку для перехода <em>label1</em>. Сохраняем сцену и запускаем игру.</p><p>Теперь, по ходу игры читая диалог, должна появиться кнопка, которая перенесет вас на вторую сцену и отобразит ее диалог.</p><p>В результате мы создали простой проект, в котором разобрали как использовать компоненты, создавать новые сцены и выполнять переход между ними.</p><h3 id="персонажи-в-tyranobuilder" tabindex="-1"><a class="header-anchor" href="#персонажи-в-tyranobuilder" aria-hidden="true">#</a> Персонажи в TyranoBuilder</h3><p>Персонажи — это важный аспект любой визуальной новеллы, и в TyranoBuilder имеется инструмент для управления ими. Чтобы добавить персонажа, просто нажмите в верхнем правом углу на белой иконке с изображением пользователя и шестерёнки или выберите пункт главного меню <em>Project/Characters</em>. Откроется окно, где в поле Character name (Имя персонажа) введите имя, после чего нажмите кнопку Add (Добавить). Поздравляем, теперь у вас есть новый персонаж в игре.</p><p>Для вывода персонажей на сцену используется компонент <em>join scene (присоединить к сцене)</em>. Добавляем этот компонент, и на панеле параметров нажимаем кнопку Browse (Обзор), где прикрепляем файл изображения персонажа, а при помощи инструмента позиционирование выставляем размер и позицию персонажа на сцене. При разработке одновременно можно выводить на сцену больше одного персонажа, а чтобы их всех убрать используется компонент <em>exit all</em>.</p><h3 id="добавление-мультимедиа" tabindex="-1"><a class="header-anchor" href="#добавление-мультимедиа" aria-hidden="true">#</a> Добавление мультимедиа</h3><p>Как видно из таблицы 4-8, TyranoBuilder имеет компоненты для добавления в игру различные типы мультимедиа. Сам процесс очень прост: перетаскиваем соответствующий компонент (например, с функцией добавления аудио, фонового изображения или видео) на сцену. На панели параметров нажимаем <em>&quot;Browse (Обзор)&quot;</em>, и выбираем файл на жестком диске. Большинство мультимедийных компонентов имеют эффект плавного появления или нарастания, период которого задаётся в миллисекундах. Одна секунда равна тысяче миллисекунд, поэтому для 2-секундного нарастания нужно ввести значение равное 2000 миллисекундам.</p><p>Позже в книге мы более подробно познакомимся с аудиовизуальными возможностями TyranoBuilder, а пока вам следует поэкспериментировать с такими компонентами как <em>&quot;Background Image (Фоновое изображение)&quot;</em>, <em>&quot;Play Music (Воспроизведение музыки)&quot;</em> и другими мультимедийными компонентами в TyranoBuilder.</p><h3 id="tyranobuilder-и-медиафаилы" tabindex="-1"><a class="header-anchor" href="#tyranobuilder-и-медиафаилы" aria-hidden="true">#</a> TyranoBuilder и медиафайлы</h3><p>Поддержка различных файлов в TyranoBuilder часто зависит от используемой платформы. Чтобы достичь максимальной переносимости игры рекомендуется использовать форматы файлов для изображения: <em>.jpg</em>, <em>.png</em>, <em>.gif</em>, для видео: <em>.ogv</em>, <em>.webm</em>, для аудио: <em>.ogg</em>, <em>.mpa</em>.</p><h3 id="несколько-слов-о-настроиках-игры" tabindex="-1"><a class="header-anchor" href="#несколько-слов-о-настроиках-игры" aria-hidden="true">#</a> Несколько слов о Настройках игры</h3><p>Для того чтобы изменить параметры игры достаточно нажать иконку с изображением шестерёнки в верхнем правом углу приложения, после чего откроется окно <em>&quot;Game Settings (Настройки Игры)&quot;</em>. Вкладка <em>&quot;General (Общие)&quot;</em> позволяет изменить название игры, а на вкладке <em>&quot;Keyboard &amp; Mouse (Клавиатура и мышь)&quot;</em> можно настроить функциональные клавиши или добавить новые, например, такие как <em>&quot;Quick Load/Save (Быстрая(ое) загрузка/сохранение)&quot;</em> или <em>&quot;Skip Dialogue (Пропустить диалог)&quot;</em>. На этой же вкладке есть возможность настроить функции кнопок мыши и функции жестов для смартфона. Если вам нужно изменить расширение игры, то можно воспользоваться вкладкой <em>&quot;Screen size (Размер экрана)&quot;</em>. Так же в процессе разработки игры вам может понадобиться изменить параметры шрифта, то для этого существует вкладка <em>&quot;Font Style (Стиль шрифта)&quot;</em>.</p><h3 id="скрипты-в-tyranobuilder" tabindex="-1"><a class="header-anchor" href="#скрипты-в-tyranobuilder" aria-hidden="true">#</a> Скрипты в TyranoBuilder</h3><p>TyranoBuilder предлагает два компонента для написания скриптов это <em>iScript</em> и <em>TyranoScript</em>.</p><p><em>TyranoScript</em> – это текстовая версия TyranoBuilder, то есть вместо использования перетаскиваемых компонентов, вы вводите команды вручную.</p><p>Если нужно расширить функциональность TyranoBuilder используйте <em>iScript</em>, основан на JavaScript, которые отличаются между собой способом работы с переменными.</p><p>Чтобы добавить сценарии в TyranoBuilder просто перетащите компонент iScript или TyranoScript на сцену проекта.</p><p>Сперва давайте познакомимся с TyranoScript:</p><div class="language-TyranoScript line-numbers-mode" data-ext="TyranoScript"><pre class="language-TyranoScript"><code>Эта строка отобразиться как диалог.
Эта строка тоже, но она будет ждать щелчка мыши для продолжения. [l]
Эта строка удалит предыдущие строки. [p]
Видите? [р][r]
А эта строка будет показана с новой строки.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>В данном листинге показано, как работают теги в TyranoScript, которые оборачиваются в квадратные скобки. В указанном примере мы познакомились с основными тегами для управления отображения диалога в игре.</p><p>Теперь познакомимся с iScript.</p><div class="language-iScript line-numbers-mode" data-ext="iScript"><pre class="language-iScript"><code>// Это пример JavaScript
var message = &quot;Привет!&quot;
window.alert(message);
// Это пример iScript
f.message = &quot;Привет!&quot;
window.alert(f.message);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>В этом простом примере показано, как iScript работает с внутриигровыми переменными используя глобальную переменную <em>f</em>, вместо привычно <em>var</em>, который используется в JavaScript.</p><h3 id="live2d" tabindex="-1"><a class="header-anchor" href="#live2d" aria-hidden="true">#</a> Live2D</h3><p>Технология Live2D, разработанная Тецуя Накаджо, позволяет создавать 2D анимированных персонажей без использования покадровой анимации и 3D-моделей. Для этого создается набор двухмерных изображений глаз, рук, и других частей тела, затем добавляется скелетная структура, при помощи которого выполняется анимация на основе заранее определенных поз и движений.</p><p>Хотя TyranoBuilder не имеет инструментария для создания Live2D персонажей, но он поддерживает эту технологию. Следовательно, для создания Live2D персонажей придётся использовать стороннее программное обеспечение.</p><p>Теперь давайте разберёмся как же добавить Live2D персонажа в TyranoBuilder. Для это нужно активировать технологию Live2D. Выбираем пункт меню <em>&quot;Project (Проект)\ Add-In Components (Интегрировать компоненты)&quot;</em>. В появившемся окне ставим галочку на против <em>&quot;Live2D Components (Live2D Компоненты)&quot;</em>, и подтверждаем интеграцию нажав кнопку <em>&quot;ОК&quot;</em>. В результате вы получите уведомление об успешном добавлении Live2D компонентов к вашему проекту.</p><p>Теперь импортируем Live2D персонажа в игру. На верхней панели инструментов находим <em>Live2D</em>, нажимаем, откроется окно <em>Live2D Model Settings (Live2D Настройки моделей)</em>, где импортируем персонажа в проект нажав кнопку <em>Add a Live2D Model (Добавить Live2D модель)</em> (см. рис. 4-7). Далее перетягиваете компонент <em>&quot;Load Model (Загрузить модель)&quot;</em> и в параметрах выбираете нужную вам модель персонажа. После чего добавляете в сцену компонент <em>&quot;Add Live2D (Добавить Live2D)&quot;</em> где указываете в параметрах ранее загруженную модель персонажа. Чтобы указать расположение персонажа на сцене воспользуйтесь инструментом <em>Positioning Tool (Инструмент позиционирования)</em>.</p><p><img src="/book-game-development-renpy/assets/figure_4_7-fdcbbcef.png" alt="Рисунок 4-7. Выбор анимации действия Live2D персонажа"></p><p><strong>Рисунок 4-7.</strong> Выбор анимации действия Live2D персонажа.</p><p>Запустив игру, вы увидите, как Live2D персонажи благодаря реалистичной анимации оживают в игре. Но если вам нужно сменить анимацию действия персонажа, то перетяните под добавленный компонент <em>Add Live2D</em> компонент <em>Live2D Motion (Live2D Движение)</em>. В параметрах в поле Model указываем модель персонажа, а в поле <em>Select a Motion (Выбор движения)</em> анимацию действия. Так же для этих целей можно воспользоваться <em>Motion Selection Tool (Инструментом выбора движения)</em>, который позволяет выбрать анимацию действия с предварительным просмотром.</p><p>После выполненных действий, запускаем игру и наблюдаем как Live2D персонаж, находясь в анимации бездействия переходит в выбранную анимацию действия.</p><h2 id="заключение" tabindex="-1"><a class="header-anchor" href="#заключение" aria-hidden="true">#</a> Заключение</h2><p>Прочитав эту главу книги, вы познакомились с Ren’Py и должны уже знать:</p><ul><li>Как создать новый проект и как использовать лаунчер</li><li>Основные элементы сценариев</li><li>Как Ren’Py работает с отступами и текстовыми блоками</li></ul><p>Относительно TyranoBuilder, вы должны знать:</p><ul><li>Как создать новый проект</li><li>Как создавать сцены и переходы между ними</li><li>Изучили интерфейс TyranoBuilder и его основные компоненты</li><li>Как импортировать Live2D персонажей в проект</li></ul><p>А о Twine вы должны знать:</p><ul><li>Как организованы комнаты/локации, переходы, и как реализовано взаимодействие с пользователем</li><li>Как использовать мультимедиа при помощи HTML и встроенных макросов</li><li>Познакомились с каскадными таблицами стилей (CSS) в контексте Twine</li></ul><p>В следующей главе мы более подробно познакомимся с разработкой игр при помощи рассматриваемого программного обеспечения.</p></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/book-game-development-renpy/chapter_3.html" class="" aria-label="Глава 3. Современные визуальные новеллы"><!--[--><!--]--> Глава 3. Современные визуальные новеллы <!--[--><!--]--></a></span><span class="next"><a href="/book-game-development-renpy/chapter_5.html" class="" aria-label="Глава 5. Погружаемся глубже"><!--[--><!--]--> Глава 5. Погружаемся глубже <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/book-game-development-renpy/assets/app-adedbf26.js" defer></script>
  </body>
</html>
